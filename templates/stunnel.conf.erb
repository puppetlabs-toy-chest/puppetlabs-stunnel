; This stunnel config is managed by Puppet.

<% if @verify == 'default' -%>
verify = default
<% else -%>
cert = <%= @certificate %>
key = <%= @private_key %>
CAfile = <%= @ca_file %>
CRLfile = <%= @crl_file %>
sslVersion = <%= @ssl_version_real %>

verify = <%= @verify %>
<% end -%>

chroot = <%= @chroot %>
setuid = <%= @user %>
setgid = <%= @group %>
pid = <%= @pid_file %>

socket = l:TCP_NODELAY=1
socket = r:TCP_NODELAY=1

debug = <%= @debug_level %>
output = <%= @log_dest %>

client = <%= @client_on %>

[<%= @name -%>]
accept = <%= @accept %>
connect = <%= @connect %>
