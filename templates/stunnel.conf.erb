; This stunnel config is managed by Puppet.

<%- if @certificate %>
cert = <%= certificate %>
<%- end -%>
<%- if @private_key %>
key = <%= private_key %>
<%- end -%>
<%- if @ca_file %>
CAfile = <%= ca_file %>
<%- end -%>
<%- if @crl_file %>
CRLfile = <%= crl_file %>
<%- end -%>
<%- if @ssl_version_real %>
sslVersion = <%= ssl_version_real %>
<%- end -%>
<%- if @verify -%>
verify = <%= @verify %>
<%- end -%>

chroot = <%= chroot %>
setuid = <%= user %>
setgid = <%= group %>
pid = <%= pid_file %>

socket = l:TCP_NODELAY=1
socket = r:TCP_NODELAY=1

debug = <%= debug_level %>
output = <%= log_dest %>

client = <%= client_on %>

<%- if @disable_fips -%>
fips = no
<%- end -%>

[<%= name -%>]
accept = <%= accept %>
connect = <%= connect %>
