; This stunnel config is managed by Puppet.

cert = <%= @certificate %>
key = <%= @private_key %>
CAfile = <%= @ca_file %>
CRLfile = <%= @crl_file %>
sslVersion = <%= @ssl_version_real %>
verify = 2

chroot = <%= @chroot %>
setuid = <%= @user %>
setgid = <%= @group %>
pid = <%= @pid_file %>

socket = l:TCP_NODELAY=1
socket = r:TCP_NODELAY=1

debug = <%= @debug_level %>
output = <%= @log_dest %>

client = <%= @client_on %>

<%- if @timeout_busy != nil -%>
TIMEOUTbusy = <%= @timeout_busy %>
<%- end -%>
<%- if @timeout_close != nil -%>
TIMEOUTclose = <%= @timeout_close %>
<%- end -%>
<%- if @timeout_connect != nil -%>
TIMEOUTconnect = <%= @timeout_connect %>
<%- end -%>
<%- if @timeout_idle != nil -%>
TIMEOUTidle = <%= @timeout_idle %>
<%- end -%>

[<%= @name -%>]
accept = <%= @accept %>
connect = <%= @connect %>
